{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAGA,MAAMC,EAAO,GACPC,EAAO,GAQb,SAASC,EAAaC,GAuBtB,IAAoBC,EAtBlBD,EAAEE,iBAsBgBD,EArBPJ,EAAKI,KAsBhB,IAAIE,SAASF,GAAMG,SAAQ,CAACC,EAAOC,KACjCR,EAAKQ,IAAQD,CAAK,IAtBpB,IAAIE,EAAQ,EAEZA,GAAST,EAAKU,MAEdC,YAAW,KACT,IAAK,IAAIC,EAAI,EAAGA,GAAKZ,EAAKa,OAAQD,IAChCE,EAAcF,EAAGH,GACdM,MAAK,EAACC,SAAEA,EAAQN,MAAEA,MACjBb,EAAAoB,OAAOC,QAAQ,qBAAqBF,QAAeN,MAAU,IAE9DS,OAAM,EAACH,SAAEA,EAAQN,MAAEA,MAClBb,EAAAoB,OAAOG,QAAQ,oBAAoBJ,QAAeN,MAAU,IAEhED,GAAST,EAAKqB,I,GAEfZ,GAEHV,EAAKI,KAAKmB,O,CASZ,SAASR,EAAcE,EAAUN,GAC/B,MAAMa,EAAO,C,SAACP,E,MAAUN,GACxB,OAAO,IAAIc,SAAQ,CAACC,EAASC,KAC3Bf,YAAW,KACagB,KAAKC,SAAW,IAGpCH,EAAQF,GAGVG,EAAOH,EAAK,GACXb,EAAM,G,CA9CbmB,SAASC,iBAAiB,oBAAoB,KAC5C/B,EAAKI,KAAO0B,SAASE,cAAc,SAEnChC,EAAKI,KAAK2B,iBAAiB,SAAU7B,EAAa","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix';\nimport 'notiflix/dist/notiflix-3.2.6.min.css';\n\nconst refs = {};\nconst opts = {};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  refs.form = document.querySelector('.form');\n\n  refs.form.addEventListener('submit', handleSubmit);\n});\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  gatherData(refs.form);\n  let delay = 0;\n\n  delay += opts.delay;\n\n  setTimeout(() => {\n    for (let i = 1; i <= opts.amount; i++) {\n      createPromise(i, delay)\n        .then(({ position, delay }) => {\n          Notify.success(`Fulfilled promise ${position} in ${delay}ms`);\n        })\n        .catch(({ position, delay }) => {\n          Notify.failure(`Rejected promise ${position} in ${delay}ms`);\n        });\n      delay += opts.step;\n    }\n  }, delay);\n\n  refs.form.reset();\n}\n\nfunction gatherData(form) {\n  new FormData(form).forEach((value, key) => {\n    opts[key] = +value;\n  });\n}\n\nfunction createPromise(position, delay) {\n  const data = {position, delay};\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n\n      if (shouldResolve) {\n        resolve(data);\n      }\n\n      reject(data);\n    }, delay);\n  });\n}\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$refs","$47d4ff9957288465$var$opts","$47d4ff9957288465$var$handleSubmit","e","form","preventDefault","FormData","forEach","value","key","delay1","delay","setTimeout","i","amount","$47d4ff9957288465$var$createPromise","then","position","Notify","success","catch","failure","step","reset","data","Promise","resolve","reject","Math","random","document","addEventListener","querySelector"],"version":3,"file":"03-promises.4626f560.js.map"}